
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://lcgeraldwang.github.io/learncircuits/RNet/NodeAnalysis/">
      
      
        <link rel="prev" href="../RNetIntro/">
      
      
      
      <link rel="icon" href="../../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Node Analysis - Learn Circuits</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#nodal-analysis" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Learn Circuits" class="md-header__button md-logo" aria-label="Learn Circuits" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Learn Circuits
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Node Analysis
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../RNetIntro/" class="md-tabs__link">
          
  
  
  Resistive Networks

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Learn Circuits" class="md-nav__button md-logo" aria-label="Learn Circuits" data-md-component="logo">
      
  <img src="../../assets/logo.png" alt="logo">

    </a>
    Learn Circuits
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Resistive Networks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Resistive Networks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../RNetIntro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduciton
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Node Analysis
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Node Analysis
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nodal-analysis-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Nodal Analysis Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-two-voltage-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Example 1: Two voltage sources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 1: Two voltage sources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex1)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-a-variation" class="md-nav__link">
    <span class="md-ellipsis">
      Example 2: A variation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3-two-node-equations" class="md-nav__link">
    <span class="md-ellipsis">
      Example 3: Two node equations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 3: Two node equations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex3)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-4-both-source-types" class="md-nav__link">
    <span class="md-ellipsis">
      Example 4: Both source types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 4: Both source types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex4)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-5-two-current-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Example 5: Two current sources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 5: Two current sources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex5)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#g-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      G-Matrix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="G-Matrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-6-using-g-matrix-method" class="md-nav__link">
    <span class="md-ellipsis">
      Example 6: Using G-Matrix method
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 6: Using G-Matrix method">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex6" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex6)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-7-source-transform-to-use-g-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      Example 7: Source transform to use G-Matrix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 7: Source transform to use G-Matrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex7" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex7)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supernode" class="md-nav__link">
    <span class="md-ellipsis">
      Supernode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supernode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-8-supernode" class="md-nav__link">
    <span class="md-ellipsis">
      Example 8: Supernode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 8: Supernode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex8)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex8)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex8)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex8)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nodal-analysis-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Nodal Analysis Steps
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-two-voltage-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Example 1: Two voltage sources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 1: Two voltage sources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex1)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex1" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex1)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-a-variation" class="md-nav__link">
    <span class="md-ellipsis">
      Example 2: A variation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-3-two-node-equations" class="md-nav__link">
    <span class="md-ellipsis">
      Example 3: Two node equations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 3: Two node equations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex3)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex3" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex3)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-4-both-source-types" class="md-nav__link">
    <span class="md-ellipsis">
      Example 4: Both source types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 4: Both source types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex4)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex4" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex4)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-5-two-current-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Example 5: Two current sources
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 5: Two current sources">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex5)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex5" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex5)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#g-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      G-Matrix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="G-Matrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-6-using-g-matrix-method" class="md-nav__link">
    <span class="md-ellipsis">
      Example 6: Using G-Matrix method
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 6: Using G-Matrix method">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex6" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex6)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-7-source-transform-to-use-g-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      Example 7: Source transform to use G-Matrix
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 7: Source transform to use G-Matrix">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex7" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex7)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#supernode" class="md-nav__link">
    <span class="md-ellipsis">
      Supernode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Supernode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-8-supernode" class="md-nav__link">
    <span class="md-ellipsis">
      Example 8: Supernode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Example 8: Supernode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#solution-video-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Solution video (Ex8)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-1-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1 (Ex8)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2 (Ex8)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-ex8" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3 (Ex8)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div><h1 id="nodal-analysis">Nodal Analysis</h1>
<p>Nodal analysis is a fundamental method in circuit theory used to determine the voltage at various points (nodes) in an electrical circuit. The basic concepts include:</p>
<ul>
<li><strong>Node</strong>: A point in a circuit where two or more circuit elements meet.</li>
<li><strong>Reference Node (Ground)</strong>: A node chosen as a reference point, usually assigned 0 V.</li>
<li><strong>Node Voltage</strong>: The electrical potential difference between a node and the reference node.</li>
</ul>
<h2 id="nodal-analysis-steps">Nodal Analysis Steps</h2>
<ul>
<li>Step 1: Select a reference node and label non-reference node voltages</li>
<li>Step 2. Label current directions (enter or leave) for the non-reference nodes and write Kirchhoff’s Current Law (KCL) for each non-reference node</li>
<li>Step 3: Solve the system of equations</li>
</ul>
<div class="admonition info">
<p class="admonition-title">Info</p>
<ul>
<li><strong>If you see the question blocks (?), please think for a second and expand it to see the answer.</strong></li>
<li>The detail steps of solving examples are provided.</li>
<li>You can also watch solution videos.</li>
</ul>
</div>
<h2 id="examples">Examples</h2>
<h3 id="example-1-two-voltage-sources">Example 1: Two voltage sources</h3>
<div class="admonition example">
<p class="admonition-title">Example 1</p>
<p>Determine the node voltages and current go through all the resistors
  <figure id="_figure-1"><a class="glightbox" href="../img/nodeEx1.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Example 1" src="../img/nodeEx1.svg" width="450"></a><figcaption>Figure 1: Example 1</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex1">Solution video (Ex1)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p><figure id="_figure-2"><a class="glightbox" href="https://www.youtube.com/embed/6ZtRfPAlot4" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/6ZtRfPAlot4" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a><figcaption>Figure 2: type:video</figcaption></figure></p>
</div>
<h4 id="step-1-ex1">Step 1 (Ex1)</h4>
<p><em>Select a reference node and label non-reference node voltages</em>
<figure id="_figure-3"><a class="glightbox" href="../img/nodeEx1a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Step 1" src="../img/nodeEx1a.svg" width="450"></a><figcaption>Figure 3: Step 1</figcaption></figure></p>
<p>There are 4 nodes in the circuit. We select bottom node <code>Node G</code> as the reference node <span class="arithmatex">\(V_G = 0\)</span>.</p>
<details class="question">
<summary>Are there 3 nodes at the bottom of the circuit? (click to expand)</summary>
<p>The entire bottom is called a <strong>common node</strong> because it is connected by wires. They are considered as a single node.</p>
<p><a class="glightbox" href="../img/nodeEx1e.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx1e.svg" width="350"></a></p>
</details>
<details class="question">
<summary>Why select the bottom as the reference node?</summary>
<p>We typically selected the bottom as the reference node because we don't need to write KCL for the reference node, and the bottom node typically has the most branches connected to it.</p>
</details>
<p>The non-reference node voltages are <span class="arithmatex">\(V_1\)</span> at <code>Node 1</code>, <span class="arithmatex">\(V_2\)</span> at <code>Node 2</code>, and <span class="arithmatex">\(V_3\)</span> at <code>Node 3</code>.</p>
<p><code>Node 2</code> is connected to the ground by the voltage source <span class="arithmatex">\(V_{S1}\)</span>, hence,</p>
<div class="arithmatex">\[
V_2 = 6 V
\]</div>
<p>In other words, the voltage rises from the ground at 0 V to <code>Node 2</code> to 6 V.</p>
<p>Similarly,</p>
<div class="arithmatex">\[
V_3 = 3 V
\]</div>
<p>Then, we only have one unknown non-reference node voltage <span class="arithmatex">\(V_1\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">No need to label V2 or V3. They are labeled here for demonstration purposes.</p>
<ul>
<li>Once you are familiar with the methods, you only need to label reference node and unknown non-reference nodes, in this case, <span class="arithmatex">\(V_1\)</span>.</li>
<li>Voltage sources between a Node and Ground directly set the node voltage equal to the source value.</li>
</ul>
</div>
<hr>
<h4 id="step-2-ex1">Step 2 (Ex1)</h4>
<p><em>Label current directions and write KCL</em></p>
<p><figure id="_figure-4"><a class="glightbox" href="../img/nodeEx1b.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Step 2" src="../img/nodeEx1b.svg" width="450"></a><figcaption>Figure 4: Step 2</figcaption></figure></p>
<p>We labeled <span class="arithmatex">\(I_1, I_2, I_3\)</span>, then we need to write KCL <code>Node 1</code>.</p>
<details class="question">
<summary>Why do we label the current direction in this way?</summary>
<ul>
<li>The short answer is that because of the polarity orientation of the two voltage sources, the current would likely flow in the labeled directions.</li>
<li>The long answer is that it does not really matter how we label the current direction.</li>
</ul>
</details>
<details class="question">
<summary>What is KCL?</summary>
<p>There are a few equations for writing KCLs.</p>
<p>Equation 1: 
$$
\sum I_{enter} = \sum I_{leave}
$$
In words, the summation of currents enter a node equal to the currents leave that node. </p>
<p>Its variations inlcude:</p>
<p>Equation 2: 
$$
\sum I_{enter} - \sum I_{leave} = 0
$$</p>
<p>Equation 3: 
$$
- \sum I_{enter} + \sum I_{leave} = 0
$$</p>
<p>Equation 4: 
$$
\sum I_{enter} = 0
$$
This equation assumes <span class="arithmatex">\(I_{leave}\)</span> is negative. </p>
<p>Equation 5: 
$$
\sum I_{leave} = 0
$$
This equation assumes <span class="arithmatex">\(I_{enter}\)</span> is negative. </p>
</details>
<p>You can use any of the equations to write the KCL (expand the above block to see them). We will use Equation 2 to write the KCL for <code>Node 1</code>: <span class="arithmatex">\(I_1 - I_2 +I_3= 0\)</span>.</p>
<p>Remember that in the Node 1nalysis method, our variables are <code>Node Voltages</code>. Now, we can use Ohm's Law to relate the currents, <span class="arithmatex">\(I_1, I_2, I_3\)</span>, to the <code>Node Voltage</code> <span class="arithmatex">\(V_1\)</span>.</p>
<p>By Ohm's Law, <span class="arithmatex">\(I_1 = V_{R1}/R_1\)</span> and apparently <span class="arithmatex">\(V_{R1} = V_2 - V_1\)</span>. Then we will have:</p>
<div class="arithmatex">\[
I_1= \frac{V_2 - V_1}{R_1} = \frac{6 - V_1}{6}
\]</div>
<p>Similarly:</p>
<div class="arithmatex">\[
I_2= \frac{V_1 - V_G}{R_2} = \frac{V_1 - 0}{3} \\
I_3= \frac{V_3 - V_1}{R_3} = \frac{3 - V_1}{6}
\]</div>
<p>Finally, the KCL is</p>
<div class="arithmatex">\[
I_1 - I_2 +I_3 = \frac{6 - V_1}{6} -  \frac{V_1}{3} + \frac{3 - V_1}{6} = 0
\]</div>
<h4 id="step-3-ex1">Step 3 (Ex1)</h4>
<p><em>Solve equations</em></p>
<p>For this example, solving the equation should be straightforward. We multiply both sides by their common denominator and then solve <span class="arithmatex">\(V_1 = 2.25 V\)</span>.</p>
<p>Remember, our question also asks us to determine the currents. Using Ohm's Law we can solve them.</p>
<div class="arithmatex">\[
I_1= \frac{V_2 - V_1}{R_1} = \frac{6 - 2.25}{6}=0.625\\
I_2 = \frac{V_1}{R_2} =\frac{2.25}{R_2} = 0.75 A\\
I_3= \frac{V_3 - V_1}{R_3} = \frac{3 - 2.25}{6}=0.125
\]</div>
<p>You can also verify that <span class="arithmatex">\(I_1 - I_2 +I_3 = 0\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">Important Notes</p>
<p>Once we solve the node voltages, we can find the current on any branch by using Ohm's Law and the power at each component. Therefore, regardless of what the question asks you to determine if you want to use the Node 1nalysis method, your immediate target is to find node voltages.</p>
</div>
<details class="question">
<summary>Why <span class="arithmatex">\(V_{R1} = V_2-V_1\)</span>, why not <span class="arithmatex">\(V_{R1} = V_1-V_2\)</span>?</summary>
<ul>
<li>This is because of the <strong>Passive Sign Convention</strong>, which states that current enters the positive terminal of passive components, namely resistors, inductors, and capacitors. </li>
<li>Remember that both voltage and current have two pieces of information. Voltage has magnitude and polarities, and current has magnitude and directions. </li>
<li>The magnitude of voltage and current is related by Ohm's Law <span class="arithmatex">\(V = I\cdot R\)</span></li>
<li>The voltage polarity and current direction are related by the passive sign convention.
-For example, in Figure 3, the current direction is labeled for all the resistors. Then, the polarities of the voltages are correspondently determined, though we did not label them. The following figure shows the voltage polarities. It has to be labeled in this way according to the passive sign convention.</li>
</ul>
<p><a class="glightbox" href="../img/nodeEx1c.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx1c.svg" width="400"></a></p>
<p>As can be seen, because we labeled <span class="arithmatex">\(I_1\)</span> from left to right, we assume <span class="arithmatex">\(V_2\)</span> is positive with respect to <span class="arithmatex">\(V_1\)</span>, and hence <span class="arithmatex">\(V_{R_1} = V_2 - V_1\)</span>. <span class="arithmatex">\(V_1\)</span> is positive with respect to <span class="arithmatex">\(V_4\)</span>, hence <span class="arithmatex">\(V_{R_2} = V_1 - V_4\)</span>. Similarly, <span class="arithmatex">\(V_{R_3} = V_3 - V_1\)</span>.</p>
<div class="admonition note">
<p class="admonition-title">You do NOT need to explicitly label the polarities when using node analysis.</p>
</div>
</details>
<details class="question">
<summary>Why do you make current leaving negative in the KCL equation?</summary>
<p>Many students asked me why is <span class="arithmatex">\(I_2\)</span> negative in the following KCL equation.</p>
<div class="arithmatex">\[
I_1 - I_2 + I_3 =  0
\]</div>
<p>We did not assume positive or negative current. We just used KCL Equation 2 as follows to write the KCL.</p>
<div class="arithmatex">\[
\sum I_{enter} - \sum I_{leave} = 0
\]</div>
<p>A good way to think about it is that the <span class="arithmatex">\(I_{leave}\)</span> has a minus sign in front of it. </p>
<p>Only Equations 4 and 5 assume positive or negative current, see more detail in the above KCL discussion. </p>
</details>
<details class="question">
<summary>Can we label the current differently?</summary>
<p>Definitely! As mentioned earlier, you will have the same solutions regardless of how you label the current directions. Let's give it a try. We label all the current flow away from <code>Node 1</code> as follows in the left column. The right column shows the old way to label the current direction.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">Current as label early</th>
<th style="text-align: center;">All currents flow away from Node 1</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><a class="glightbox" href="../img/nodeEx1f.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx1f.svg" width="300"></a></td>
<td style="text-align: center;"><a class="glightbox" href="../img/nodeEx1d.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx1d.svg" width="300"></a></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex">\(I_{1a} - I_2 + I_{3a} =  0\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(I_{1b} + I_2 + I_{3b} = 0\)</span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex">\(\frac{6 - V_1}{6} -  \frac{V_1}{3} + \frac{3 - V_1}{6} = 0\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_1 - 6}{6} +  \frac{V_1}{3} + \frac{V_1-3}{6} = 0\)</span></td>
</tr>
<tr>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_1 - 6}{6} +  \frac{V_1}{3} + \frac{V_1-3}{6} = 0\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<p>Apparently, we got exactly the same equation regardless of the labeled current direction. </p>
<p>Note that, when label all currents flow away from the <code>Node 1</code>, we used the KCL Equation 5 to write the KCL. </p>
</details>
<div class="admonition tip">
<p class="admonition-title">Tips</p>
<p>Labeling all the currents flowing away from the non-reference nodes has the following advantages.</p>
<ul>
<li>All the terms added together will equal zero. No subtraction.</li>
<li>The node voltage you are working on (e.g., <span class="arithmatex">\(V_1\)</span>) is the leading variable of all the terms.</li>
</ul>
<p>Then, you will have little chance to make mistakes. This tip is general to the circuits with multiple unknown nodes. We will see it in Example 3. </p>
</div>
<hr>
<h3 id="example-2-a-variation">Example 2: A variation</h3>
<div class="admonition example">
<p class="admonition-title">Example 2</p>
<p>Determine the node voltages and the currents go through all components.
  <figure id="_figure-5"><a class="glightbox" href="../img/nodeEx2.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Example 2" src="../img/nodeEx2.svg" width="450"></a><figcaption>Figure 5: Example 2</figcaption></figure></p>
</div>
<hr>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p><figure id="_figure-6"><a class="glightbox" href="https://www.youtube.com/embed/BFIvLJLiD58" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/BFIvLJLiD58" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a><figcaption>Figure 6: type:video</figcaption></figure></p>
</div>
<p>The solutions of <span class="arithmatex">\(I_1, I_2, I_3, V_1\)</span> are exactly the same as the Example 1. There is still only one unknown voltage node <code>Node 1</code>.</p>
<p>The differences are the currents <span class="arithmatex">\(I_{V1}, I_{V2}\)</span>.</p>
<details class="question">
<summary>Can you find <span class="arithmatex">\(I_{V1}, I_{V2}\)</span>?</summary>
<p><span class="arithmatex">\(I_4 = \frac{V_{S1}-V_{S2}}{R_4} = \frac{6-3}{4} = 0.75A\)</span></p>
<p><span class="arithmatex">\(I_{V1}=I_1+I_4 = 0.625+0.75 = 1.375A\)</span></p>
<p><span class="arithmatex">\(I_{V2}= I_3-I_4 = 0.125 - 0.75 = -0.625A\)</span></p>
</details>
<hr>
<h3 id="example-3-two-node-equations">Example 3: Two node equations</h3>
<div class="admonition example">
<p class="admonition-title">Example 3</p>
<p>Determine the current go through <span class="arithmatex">\(R_2\)</span> for the below cirucit.
  <figure id="_figure-7"><a class="glightbox" href="../img/nodeEx3.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Example 3" src="../img/nodeEx3.svg" width="500"></a><figcaption>Figure 7: Example 3</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex3">Solution video (Ex3)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p><figure id="_figure-8"><a class="glightbox" href="https://www.youtube.com/embed/BFIvLJLiD58" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/BFIvLJLiD58" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a><figcaption>Figure 8: type:video</figcaption></figure></p>
</div>
<hr>
<h4 id="step-1-ex3">Step 1 (Ex3)</h4>
<p><em>Select a reference node and label non-reference node voltages</em></p>
<p><figure id="_figure-9"><a class="glightbox" href="../img/nodeEx3a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Step 1" src="../img/nodeEx3a.svg" width="500"></a><figcaption>Figure 9: Step 1</figcaption></figure></p>
<div class="admonition note">
<p class="admonition-title">No need to label V3 or V4. They are labeled here for demonstration purposes.</p>
<ul>
<li>Once you are familiar with the methods, you only need to label reference node and unknown non-reference nodes, in this case, <span class="arithmatex">\(V_1\)</span> and <span class="arithmatex">\(V_2\)</span>.</li>
<li>Voltage sources between a Node and Ground directly set the node voltage equal to the source value. </li>
<li>However, we need to pay attention to the polarity, e.g., <span class="arithmatex">\(V_4 = -3 V\)</span></li>
</ul>
</div>
<p>There are 5 nodes in the circuit. We select bottom node <code>Node G</code> as the reference node <span class="arithmatex">\(V_G = 0\)</span>.</p>
<p>Similar to Example 1, <code>Node 3</code> is connected to <code>Node G</code> by the voltage source <span class="arithmatex">\(V_{S1}\)</span>, hence,</p>
<div class="arithmatex">\[
V_3 = 6 V
\]</div>
<p>Because the voltage drops from <span class="arithmatex">\(0 V\)</span> from <code>Node G</code> to <code>Node 4</code> by <span class="arithmatex">\(3V\)</span>,</p>
<div class="arithmatex">\[
V_4 = -3 V
\]</div>
<p>Then, we have two unknown node voltages <code>Node 1</code> and <code>Node 2</code>.</p>
<hr>
<h4 id="step-2-ex3">Step 2 (Ex3)</h4>
<p><em>Label current directions and write KCL</em></p>
<div class="admonition note">
<p class="admonition-title">Try two ways to label current directions</p>
<ul>
<li>Method 1: As shown in Figure 7.</li>
<li>Method 2: Label all currents flowing away from <code>Node 1</code> and <code>Node 2</code>, as shown in Figure 8.</li>
</ul>
</div>
<p><strong>Method 1</strong></p>
<p><figure id="_figure-10"><a class="glightbox" href="../img/nodeEx3b.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Step 2 - Method 1" src="../img/nodeEx3b.svg" width="500"></a><figcaption>Figure 10: Step 2 - Method 1</figcaption></figure></p>
<div class="admonition note">
<p class="admonition-title">We use Equation 2 to write KCL</p>
<div class="arithmatex">\[
\sum I_{enter} - \sum I_{leave} = 0
\]</div>
</div>
<p>For <code>Node 1</code>, KCL: <span class="arithmatex">\(I_1-I_2-I_3=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
\frac{6 - V_1}{6} -  \frac{V_1}{3} - \frac{V_1-V_2}{6} = 0
\]</div>
<p>For <code>Node 2</code>, KCL: <span class="arithmatex">\(I_3-I_4-I_5=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
\frac{V_1-V_2}{6} -  \frac{V_2}{4} - \frac{V_2-(-3)}{2} = 0
\]</div>
<div class="admonition warning">
<p class="admonition-title">Common Mistake</p>
<div class="arithmatex">\[
\frac{V_2-3}{2}
\]</div>
</div>
<hr>
<p><strong>Method 2</strong>
<figure id="_figure-11"><a class="glightbox" href="../img/nodeEx3c.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Step 2 - Method 2" src="../img/nodeEx3c.svg" width="500"></a><figcaption>Figure 11: Step 2 - Method 2</figcaption></figure></p>
<div class="admonition note">
<p class="admonition-title">We use Equation 5 to write KCL</p>
<div class="arithmatex">\[
\sum I_{leave} = 0
\]</div>
</div>
<p>For <code>Node 1</code>, KCL: <span class="arithmatex">\(I_{1a}+I_2+I_{3a}=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
\frac{V_1-6}{6} +  \frac{V_1}{3} + \frac{V_1-V_2}{6} = 0
\]</div>
<p>For <code>Node 2</code>, KCL: <span class="arithmatex">\(I_{3b}+I_4+I_5=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
\frac{V_2-V_1}{6} +  \frac{V_2}{4} + \frac{V_2-(-3)}{2} = 0
\]</div>
<div class="admonition note">
<p class="admonition-title">Comparison of the two methods</p>
<p>You will see the two methods provide you with the same equations (after some algebra).</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Nodes</th>
<th style="text-align: center;">Method 1</th>
<th style="text-align: center;">Method 2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Node 1</td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{6 - V_1}{6} -  \frac{V_1}{3} - \frac{V_1-V_2}{6} = 0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;"><span class="arithmatex">\(-\frac{V_1-6}{6} -  \frac{V_1}{3} - \frac{V_1-V_2}{6} = 0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_1-6}{6} +  \frac{V_1}{3} + \frac{V_1-V_2}{6} = 0\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_1-6}{6} +  \frac{V_1}{3} + \frac{V_1-V_2}{6} = 0\)</span></td>
</tr>
<tr>
<td style="text-align: left;">Node 2</td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_1-V_2}{6} -  \frac{V_2}{4} - \frac{V_2-(-3)}{2} = 0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_2-V_1}{6} +  \frac{V_2}{4} + \frac{V_2-(-3)}{2} = 0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: left;"></td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_2-V_1}{6} +  \frac{V_2}{4} + \frac{V_2-(-3)}{2} = 0\)</span></td>
<td style="text-align: center;"><span class="arithmatex">\(\frac{V_2-V_1}{6} +  \frac{V_2}{4} + \frac{V_2-(-3)}{2} = 0\)</span></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="admonition-title">However, using the second method, you have less chance to make mistakes.</p>
<ul>
<li>For the <code>Node 1</code> KCL equation, <span class="arithmatex">\(V_1\)</span> is always leading in each term. </li>
<li>For the <code>Node 2</code> KCL equation, <span class="arithmatex">\(V_2\)</span> is always leading in each term.</li>
<li>The equation always adds all the terms together to equal 0. No need to worry about minus signs. </li>
</ul>
</div>
</div>
<details class="question">
<summary>Can we label <span class="arithmatex">\(I_{3a}\)</span> and <span class="arithmatex">\(I_{3b}\)</span> on the same branch to against each other?</summary>
<ul>
<li>Yes. It basic means <span class="arithmatex">\(I_{3a}=-I_{3b}\)</span>.</li>
<li>In fact, <span class="arithmatex">\(I_{3a}=0.43A, I_{3b}=-0.43A\)</span>.</li>
<li><span class="arithmatex">\(I_3a\)</span> and <span class="arithmatex">\(I_3b\)</span> represent <strong>the same current</strong>. Their directions are opposite, and their magnitudes are also opposite (one positive and the other negative).</li>
<li>Remember: current has two pieces of information: magnitude and directions.</li>
</ul>
</details>
<details class="question">
<summary>What if the current direction is given in the circuit?</summary>
<p>Just use it then. You don't need to re-define the current direction.</p>
</details>
<hr>
<h4 id="step-3-ex3">Step 3 (Ex3)</h4>
<p><em>Solve equations</em></p>
<p>Performing algebra, the above two equations will become:</p>
<div class="arithmatex">\[
4V_1-V_2=6 \\
-2V_1+11V_2=-18
\]</div>
<p>There 2 unknowns and 2 equations. We can solve them using Gaussian elimination and matrix method.</p>
<div class="admonition note">
<p class="admonition-title">Solving the equations</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked id="gaussian-elimination" name="__tabbed_1" type="radio"><input id="matrix" name="__tabbed_1" type="radio"><div class="tabbed-labels"><label for="gaussian-elimination">Gaussian elimination</label><label for="matrix">Matrix</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<ul>
<li>The first equation plus the second equation times 2, then <span class="arithmatex">\(V_1\)</span> will be eliminated.</li>
<li>We will get <span class="arithmatex">\(V_2 = -1.43 V\)</span>.</li>
<li>Then substitute <span class="arithmatex">\(V_2\)</span> to the first equation, we will find <span class="arithmatex">\(V_1=1.14 V\)</span></li>
</ul>
</div>
<div class="tabbed-block">
<ul>
<li>Obtain the matrix</li>
</ul>
<div class="arithmatex">\[
\begin{bmatrix}
    4 &amp; -1\\
    -2 &amp; 11
\end{bmatrix}
\begin{bmatrix}
    V_1 \\
    V_2
\end{bmatrix}=
\begin{bmatrix}
    6\\
    -18
\end{bmatrix}
\]</div>
<ul>
<li>Solve it using a caculator or software. </li>
</ul>
<div class="arithmatex">\[
\begin{bmatrix}
    V_1 \\
    V_2
\end{bmatrix}=
\begin{bmatrix}
    4 &amp; -1\\
    -2 &amp; 11
\end{bmatrix}^{-1}
\begin{bmatrix}
    6\\
    -18
\end{bmatrix}
\]</div>
</div>
</div>
</div>
</div>
<p>Remember, our question asks us to determine the current go through <span class="arithmatex">\(R_2\)</span>, then:</p>
<div class="arithmatex">\[
I_2 = \frac{V_1}{R_2} = 0.38 A
\]</div>
<div class="admonition note">
<p class="admonition-title">Important Notes</p>
<p>Once we solve the node voltages, we can find the current on any branch by using Ohm's Law and the power at each component. Therefore, regardless of what the question asks you to determine if you want to use the Node 1nalysis method, your immediate target is to find node voltages. </p>
</div>
<hr>
<h3 id="example-4-both-source-types">Example 4: Both source types</h3>
<div class="admonition example">
<p class="admonition-title">Example 4</p>
<p>Determine <span class="arithmatex">\(I_o\)</span>.</p>
<p><figure id="_figure-12"><a class="glightbox" href="../img/nodeEx4.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Example 4" src="../img/nodeEx4.svg" width="450"></a><figcaption>Figure 12: Example 4</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex4">Solution video (Ex4)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p><figure id="_figure-13"><a class="glightbox" href="https://www.youtube.com/embed/Q-1p2YxCsa0" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/Q-1p2YxCsa0" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a><figcaption>Figure 13: type:video</figcaption></figure></p>
</div>
<hr>
<h4 id="step-1-ex4">Step 1 (Ex4)</h4>
<p><em>Select a reference node and label non-reference node voltages</em></p>
<p><figure id="_figure-14"><a class="glightbox" href="../img/nodeEx4a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Steps 1 and 2" src="../img/nodeEx4a.svg" width="450"></a><figcaption>Figure 14: Steps 1 and 2</figcaption></figure></p>
<p>The bottom node is grounded. <strong><span class="arithmatex">\(V_1\)</span> is the unknown non-reference node.</strong>  </p>
<p><span class="arithmatex">\(I_2\)</span> is labeled for Step 2. <span class="arithmatex">\(I_o\)</span> going through <span class="arithmatex">\(R_3\)</span> was labeled by the cirucit, we will use it.</p>
<hr>
<h4 id="step-2-ex4">Step 2 (Ex4)</h4>
<p><em>Label current directions and write KCL</em></p>
<p>The current going through <span class="arithmatex">\(R_1\)</span> is <span class="arithmatex">\(I_{S1}\)</span>. It is known and we do not need to caculate it.</p>
<div class="admonition note">
<p class="admonition-title">We use Equation 2 to write KCL</p>
<div class="arithmatex">\[
\sum I_{enter} - \sum I_{leave} = 0
\]</div>
</div>
<div class="arithmatex">\[
I_{S1} - \frac{V_1}{R_2} -  \frac{V_1-V_{S1}}{R_3} = 0
\]</div>
<hr>
<h4 id="step-3-ex4">Step 3 (Ex4)</h4>
<p><em>Solve equations</em></p>
<div class="arithmatex">\[
1 - \frac{V_1}{6} -  \frac{V_1-3}{6} = 0\\
\]</div>
<p>We can solve <span class="arithmatex">\(V_1 = 4.5V\)</span>.</p>
<p>Using Ohm's Law, we can find.</p>
<div class="arithmatex">\[
I_o = \frac{V_1-V_{S1}}{R_3} = \frac{4.5-3}{6}=0.25A\\
\]</div>
<div class="admonition warning">
<p class="admonition-title">Common mistakes</p>
<ul>
<li><span class="arithmatex">\(I_o = \frac{V_1}{R_3}\)</span>. It misses <span class="arithmatex">\(-V_{S1}\)</span></li>
<li>Label the current going through <span class="arithmatex">\(R_1\)</span> (as follows) and try to caculate it. For example, <span class="arithmatex">\(I_1=\frac{V_1}{R_1}\)</span> (wrong)</li>
</ul>
<p><a class="glightbox" href="../img/nodeEx4b.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx4b.svg" width="400"></a></p>
</div>
<hr>
<h3 id="example-5-two-current-sources">Example 5: Two current sources</h3>
<div class="admonition example">
<p class="admonition-title">Example 5</p>
<p>Determine the node voltages and currents in each branch</p>
<p><figure id="_figure-15"><a class="glightbox" href="../img/nodeEx5.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Current Source" src="../img/nodeEx5.svg" width="450"></a><figcaption>Figure 15: Current Source</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex5">Solution video (Ex5)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p><figure id="_figure-16"><a class="glightbox" href="https://www.youtube.com/embed/Q-1p2YxCsa0" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><div class="video-container"><iframe src="https://www.youtube.com/embed/Q-1p2YxCsa0" style="position:relative;width:100%;height:22.172vw" frameborder="0" allowfullscreen alt="type:video"></iframe></div></a><figcaption>Figure 16: type:video</figcaption></figure></p>
</div>
<hr>
<h4 id="step-1-ex5">Step 1 (Ex5)</h4>
<p><em>Select a reference node and label non-reference node voltages</em></p>
<p><figure id="_figure-17"><a class="glightbox" href="../img/nodeEx5a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Example 5" src="../img/nodeEx5a.svg" width="500"></a><figcaption>Figure 17: Example 5</figcaption></figure></p>
<p>The bottom node is grounded. <strong><span class="arithmatex">\(V_1\)</span> and <span class="arithmatex">\(V_2\)</span> are unknowns.</strong>  </p>
<p><span class="arithmatex">\(I_1, I_2, I_3\)</span> are labeled for Step 2.</p>
<hr>
<h4 id="step-2-ex5">Step 2 (Ex5)</h4>
<p><em>Label current directions and write KCL</em></p>
<div class="admonition note">
<p class="admonition-title">We use Equation 2 to write KCL</p>
<div class="arithmatex">\[
\sum I_{enter} - \sum I_{leave} = 0
\]</div>
</div>
<p>For <code>Node 1</code>, KCL: <span class="arithmatex">\(I_{S1}-I_1-I_2=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
I_{S1} - \frac{V_1}{R_1} -  \frac{V_1-V_2}{R_2} = 0
\]</div>
<p>For <code>Node 2</code>, KCL: <span class="arithmatex">\(I_2-I_3-I_{S2}=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
\frac{V_1-V_2}{R_2} -  \frac{V_2}{R_3} - I_{S2} = 0
\]</div>
<hr>
<h4 id="step-3-ex5">Step 3 (Ex5)</h4>
<p><em>Solve equations</em></p>
<p>Plug in numbers to the above two equations:</p>
<div class="arithmatex">\[
1 - \frac{V_1}{12} -  \frac{V_1-V_2}{6} = 0\\
\frac{V_1-V_2}{6} -  \frac{V_2}{6} - 4 = 0
\]</div>
<p>We can solve <span class="arithmatex">\(V_1 = -6V\)</span> and <span class="arithmatex">\(V_2 = -15V\)</span>.</p>
<p>Using Ohm's Law, we can find all the currents.</p>
<div class="arithmatex">\[
I_1 = \frac{V_1}{R_1} = \frac{-6}{12}=-0.5A\\
I_2 = \frac{V_1-V_2}{R_2} = \frac{-6+15}{6}=1.5A\\
I_3 = \frac{V_2}{R_3} = \frac{-15}{6}=-2.5A
\]</div>
<hr>
<h2 id="g-matrix">G-Matrix</h2>
<p>If all the sources of a circuit are independent current sources, we can directly write a <strong>G-Matrix</strong> such that <span class="arithmatex">\(G\vec{V}=\vec{I}\)</span>, where <span class="arithmatex">\(\vec{V}\)</span> is the vector of node voltages and <span class="arithmatex">\(\vec{I}\)</span> is the vector of entering current from the current sources. Then, we can solve <span class="arithmatex">\(\vec{V} = G^{-1}\vec{I}\)</span></p>
<p>Lets revisit the Example 5, starting from the two node equations.</p>
<div class="arithmatex">\[
I_{S1} - \frac{V_1}{R_1} -  \frac{V_1-V_2}{R_2} = 0\\
\frac{V_1-V_2}{R_2} -  \frac{V_2}{R_3} - I_{S2} = 0
\]</div>
<p>Lets do some algebra and change them to the following.</p>
<div class="arithmatex">\[
\frac{V_1}{R_1} + \frac{V_1-V_2}{R_2} = I_{S1}\\
-\frac{V_1-V_2}{R_2} +  \frac{V_2}{R_3} = -I_{S2}
\]</div>
<p>Then factorize <span class="arithmatex">\(V_1\)</span> and <span class="arithmatex">\(V_2\)</span> terms,</p>
<div class="arithmatex">\[
(\frac{1}{R_1}+\frac{1}{R_2}) V_1 - \frac{1}{R_2}V_2 = I_{S1}\\
- \frac{1}{R_2}V_1 + (\frac{1}{R_2}+\frac{1}{R_3}) V_2  = -I_{S2}
\]</div>
<p>Then, transform them to matrix format.</p>
<div class="arithmatex">\[
\begin{bmatrix}
\frac{1}{R_1}+\frac{1}{R_2} &amp; - \frac{1}{R_2}\\
- \frac{1}{R_2} &amp; \frac{1}{R_2}+\frac{1}{R_3}
\end{bmatrix}
\begin{bmatrix}
V_1 \\
V_2
\end{bmatrix} =
\begin{bmatrix}
I_{S1} \\
-I_{S2}
\end{bmatrix}
\]</div>
<p>In a more compact form: <span class="arithmatex">\(G\vec{V}=\vec{I}\)</span>, where</p>
<div class="arithmatex">\[
G =
\begin{bmatrix}
\frac{1}{R_1}+\frac{1}{R_2} &amp; - \frac{1}{R_2}\\
- \frac{1}{R_2} &amp; \frac{1}{R_2}+\frac{1}{R_3}
\end{bmatrix} =
\begin{bmatrix}
G_{11} &amp; G_{12} \\
G_{21} &amp; G_{22} 
\end{bmatrix}
\]</div>
<div class="admonition note">
<p class="admonition-title">G-Matrix has the following properties</p>
<ul>
<li>The diagonal components of the G-matrix are made up of the sum of the conductances of the resistors connected to the corresponding node.</li>
<li>The non-diagonal components are made up of the negative conductance of the resistor connected between the <span class="arithmatex">\(i^{th}\)</span> and <span class="arithmatex">\(j^{th}\)</span> nodes.</li>
<li>The G-matrix is symmetric.</li>
</ul>
</div>
<p>For example, <span class="arithmatex">\(R_1\)</span> and <span class="arithmatex">\(R_2\)</span> are connected to <code>Node 1</code>, then the first diagonal components <span class="arithmatex">\(G_{11} = \frac{1}{R_1}+\frac{1}{R_2}=G_1 + G_2\)</span>.</p>
<p><span class="arithmatex">\(R_2\)</span> and <span class="arithmatex">\(R_3\)</span> are connected to <code>Node 2</code>, then the second diagonal components <span class="arithmatex">\(G_{22} = \frac{1}{R_2}+\frac{1}{R_3}=G_2 + G_3\)</span>.</p>
<p><span class="arithmatex">\(R_2\)</span> connects <code>Node 1</code> and <code>Node 2</code>, then the non-diagonal component <span class="arithmatex">\(G_{12}=- \frac{1}{R_2}\)</span>.</p>
<p><span class="arithmatex">\(R_2\)</span> also connects <code>Node 2</code> and <code>Node 1</code>, then the non-diagonal component <span class="arithmatex">\(G_{21}=- \frac{1}{R_2}\)</span>. Therefore, the G-Matrix is symmetric.</p>
<p>The <span class="arithmatex">\(i^{th}\)</span> component of the <span class="arithmatex">\(\vec{I}\)</span> is the current from the current sources entering <code>Node i</code>. In other words, entering is positive and leaving is negative.</p>
<p>For example,</p>
<div class="arithmatex">\[
\vec{I} = \begin{bmatrix}
I_{S1} \\
-I_{S2}
\end{bmatrix}
\]</div>
<p><span class="arithmatex">\(I_{S_1}\)</span> enters <code>Node 1</code>, then the first componet of <span class="arithmatex">\(\vec{I}\)</span> is <span class="arithmatex">\(I_{S_1}\)</span>.</p>
<p><span class="arithmatex">\(I_{S_2}\)</span> leaves from <code>Node 2</code>, then the second componet of <span class="arithmatex">\(\vec{I}\)</span> is <span class="arithmatex">\(-I_{S_2}\)</span>. It is negative becasue it leaves the node. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>These preperties are general, so we can write a <strong>G-Matrix</strong> for circuits only have independent current sources.</li>
<li>This G-Matrix method is greatly useful to analyze large networks (e.g., power systems) using computers.</li>
</ul>
</div>
<div class="admonition warning">
<p class="admonition-title"><strong>G-Matrix</strong> method can be applied to circuits where all the sources are independent current sources</p>
<p>If there are voltages presented in the circuits, we may be able to do source conversion from voltage sources to current sources, which can be discussed later.</p>
</div>
<h3 id="example-6-using-g-matrix-method">Example 6: Using G-Matrix method</h3>
<div class="admonition example">
<p class="admonition-title">Example 6</p>
<p>Write G-Matrix and <span class="arithmatex">\(\vec{I}\)</span> and use a calculator or any other tools (e.g., MATLAB) to solve node voltages.
<figure id="_figure-18"><a class="glightbox" href="../img/nodeEx6.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Current Source" src="../img/nodeEx6.svg" width="500"></a><figcaption>Figure 18: Current Source</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex6">Solution video (Ex6)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p>Coming soon...</p>
</div>
<hr>
<details class="question">
<summary>Give it try! Then, expand this block to see the solution</summary>
<p><figure id="_figure-19"><a class="glightbox" href="../img/nodeEx6a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Steps 1 and 2" src="../img/nodeEx6a.svg" width="500"></a><figcaption>Figure 19: Steps 1 and 2</figcaption></figure></p>
<div class="admonition note">
<p class="admonition-title">The three nodes in the blue dashed circuit is a common node, i.e., a sigle node.</p>
</div>
<div class="arithmatex">\[
G =
\begin{bmatrix}
\frac{1}{R_1}+\frac{1}{R_2} + \frac{1}{R_5} &amp; - \frac{1}{R_2} &amp; -\frac{1}{R_5}\\
- \frac{1}{R_2} &amp; \frac{1}{R_2}+\frac{1}{R_3} &amp; -\frac{1}{R_3}\\
-\frac{1}{R_5} &amp; -\frac{1}{R_3} &amp; \frac{1}{R_3}+\frac{1}{R_4} + \frac{1}{R_5}
\end{bmatrix}
\]</div>
<p>The circuit has 3 nodes, so the G matrix is <span class="arithmatex">\(3\times 3\)</span>. </p>
<p><span class="arithmatex">\(R_{1,2,5}\)</span> connected to <code>Node 1</code>, then <span class="arithmatex">\(G_{11}\)</span> is the sum of their conductance. </p>
<p><span class="arithmatex">\(R_{2,3}\)</span> connected to <code>Node 2</code>, then <span class="arithmatex">\(G_{22}\)</span> is the sum of their conductance. </p>
<p><span class="arithmatex">\(R_{3,4,5}\)</span> connected to <code>Node 3</code>, then <span class="arithmatex">\(G_{33}\)</span> is the sum of their conductance. </p>
<p><span class="arithmatex">\(R_2\)</span> connects <code>Node 1</code> and <code>Node 2</code>, then <span class="arithmatex">\(G_{12}=G_{21}\)</span> is its negative conductance. </p>
<p><span class="arithmatex">\(R_5\)</span> connects <code>Node 1</code> and <code>Node 3</code>, then <span class="arithmatex">\(G_{13}=G_{31}\)</span> is its negative conductance. </p>
<p><span class="arithmatex">\(R_3\)</span> connects <code>Node 2</code> and <code>Node 3</code>, then <span class="arithmatex">\(G_{23}=G_{32}\)</span> is its negative conductance. </p>
<div class="admonition note">
<p class="admonition-title">The current vector only contains current sources. Not any other currents.</p>
</div>
<div class="arithmatex">\[
\vec{I}=
\begin{bmatrix}
I_{S1}\\
-I_{S2}\\
0
\end{bmatrix}
\]</div>
<p>The current source <span class="arithmatex">\(I_{S1}\)</span> enters <code>Node 1</code>, then the first compent of <span class="arithmatex">\(\vec{I}\)</span> is <span class="arithmatex">\(I_{S1}\)</span>.</p>
<p>The current source <span class="arithmatex">\(I_{S2}\)</span> leaves <code>Node 2</code>, then the second compent of <span class="arithmatex">\(\vec{I}\)</span> is <span class="arithmatex">\(I_{S2}\)</span>.</p>
<p>No current source enters or leaves <code>Node 3</code>, then the third compent of <span class="arithmatex">\(\vec{I}\)</span> is <span class="arithmatex">\(0\)</span>.</p>
<p>Solve <span class="arithmatex">\(\vec{V} = G^{-1}\vec{I}\)</span></p>
<div class="arithmatex">\[
\vec{V}=
\begin{bmatrix}
-7.6283 \\
-18.2454\\
-7.0929
\end{bmatrix}
\]</div>
<div class="admonition info">
<p class="admonition-title">Code to solve the node voltages</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked id="python-code" name="__tabbed_2" type="radio"><input id="matlab-code" name="__tabbed_2" type="radio"><div class="tabbed-labels"><label for="python-code">Python code</label><label for="matlab-code">MATLAB code</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Define the resistances (in ohms)</span>
<span class="n">R1</span> <span class="o">=</span> <span class="mi">12</span>  <span class="c1"># Resistance of R1</span>
<span class="n">R2</span> <span class="o">=</span> <span class="mi">6</span>   <span class="c1"># Resistance of R2</span>
<span class="n">R3</span> <span class="o">=</span> <span class="mi">5</span>   <span class="c1"># Resistance of R3</span>
<span class="n">R4</span> <span class="o">=</span> <span class="mi">3</span>   <span class="c1"># Resistance of R4</span>
<span class="n">R5</span> <span class="o">=</span> <span class="mi">4</span>   <span class="c1"># Resistance of R5</span>

<span class="c1"># Define the current sources (in amperes)</span>
<span class="n">IS1</span> <span class="o">=</span> <span class="mi">1</span>  <span class="c1"># Current source entering Node 1</span>
<span class="n">IS2</span> <span class="o">=</span> <span class="mi">4</span>  <span class="c1"># Current source leaving Node 2</span>

<span class="c1"># Calculate the conductances (G = 1/R)</span>
<span class="n">G1</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">R1</span>
<span class="n">G2</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">R2</span>
<span class="n">G3</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">R3</span>
<span class="n">G4</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">R4</span>
<span class="n">G5</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">R5</span>

<span class="c1"># Define the G matrix</span>
<span class="n">G</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="p">[</span><span class="n">G1</span> <span class="o">+</span> <span class="n">G2</span> <span class="o">+</span> <span class="n">G5</span><span class="p">,</span> <span class="o">-</span><span class="n">G2</span><span class="p">,</span>          <span class="o">-</span><span class="n">G5</span><span class="p">],</span>
    <span class="p">[</span><span class="o">-</span><span class="n">G2</span><span class="p">,</span>          <span class="n">G2</span> <span class="o">+</span> <span class="n">G3</span><span class="p">,</span>      <span class="o">-</span><span class="n">G3</span><span class="p">],</span>
    <span class="p">[</span><span class="o">-</span><span class="n">G5</span><span class="p">,</span>          <span class="o">-</span><span class="n">G3</span><span class="p">,</span>          <span class="n">G3</span> <span class="o">+</span> <span class="n">G4</span> <span class="o">+</span> <span class="n">G5</span><span class="p">]</span>
<span class="p">])</span>

<span class="c1"># Define the current vector (I)</span>
<span class="n">I</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
    <span class="n">IS1</span><span class="p">,</span>
    <span class="o">-</span><span class="n">IS2</span><span class="p">,</span>
    <span class="mi">0</span>
<span class="p">])</span>

<span class="c1"># Solve for the node voltages (V)</span>
<span class="n">V</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">I</span><span class="p">)</span>

<span class="c1"># Display the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Node Voltages (V):"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code><span class="c">% Define the resistances (in ohms)</span>
<span class="n">R1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w"> </span><span class="c">% Resistance of R1</span>
<span class="n">R2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span><span class="w"> </span><span class="c">% Resistance of R2</span>
<span class="n">R3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="c">% Resistance of R3</span>
<span class="n">R4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="c">% Resistance of R4</span>
<span class="n">R5</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="c">% Resistance of R5</span>

<span class="c">% Define the current sources (in amperes)</span>
<span class="n">IS1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">  </span><span class="c">% Current source entering Node 1</span>
<span class="n">IS2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w">  </span><span class="c">% Current source leaving Node 2</span>

<span class="c">% Calculate the conductances (G = 1/R)</span>
<span class="n">G1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">R1</span><span class="p">;</span>
<span class="n">G2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">R2</span><span class="p">;</span>
<span class="n">G3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">R3</span><span class="p">;</span>
<span class="n">G4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">R4</span><span class="p">;</span>
<span class="n">G5</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">R5</span><span class="p">;</span>

<span class="c">% Define the G matrix</span>
<span class="n">G</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">G1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G5</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">G2</span><span class="p">,</span><span class="w">          </span><span class="o">-</span><span class="n">G5</span><span class="p">;</span>
<span class="w">    </span><span class="o">-</span><span class="n">G2</span><span class="p">,</span><span class="w">          </span><span class="n">G2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G3</span><span class="p">,</span><span class="w">      </span><span class="o">-</span><span class="n">G3</span><span class="p">;</span>
<span class="w">    </span><span class="o">-</span><span class="n">G5</span><span class="p">,</span><span class="w">          </span><span class="o">-</span><span class="n">G3</span><span class="p">,</span><span class="w">          </span><span class="n">G3</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G4</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">G5</span>
<span class="p">];</span>

<span class="c">% Define the current vector (I)</span>
<span class="n">I</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">IS1</span><span class="p">;</span>
<span class="w">    </span><span class="o">-</span><span class="n">IS2</span><span class="p">;</span>
<span class="w">    </span><span class="n">0</span>
<span class="s">]</span><span class="p">;</span>

<span class="c">% Solve for the node voltages (V)</span>
<span class="n">V</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">G</span><span class="w"> </span><span class="o">\</span><span class="w"> </span><span class="n">I</span><span class="p">;</span><span class="w"> </span><span class="c">% or V = inv(G)*I</span>

<span class="c">% Display the results</span>
<span class="nb">disp</span><span class="p">(</span><span class="s">'Node Voltages (V):'</span><span class="p">);</span>
<span class="nb">disp</span><span class="p">(</span><span class="n">V</span><span class="p">);</span>
</code></pre></div>
</div>
</div>
</div>
</div>
</details>
<hr>
<h3 id="example-7-source-transform-to-use-g-matrix">Example 7: Source transform to use G-Matrix</h3>
<div class="admonition question">
<p class="admonition-title">Can we use G-Matrix method for the following circuit?</p>
<p>Yes. But we need to do a source transform. </p>
<p><figure id="_figure-20"><a class="glightbox" href="../img/nodeEx3.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Ex7 (the same as Ex2)" src="../img/nodeEx3.svg" width="450"></a><figcaption>Figure 20: Ex7 (the same as Ex2)</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex7">Solution video (Ex7)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p>Coming soon...</p>
</div>
<hr>
<div class="admonition info">
<p class="admonition-title">Source transform</p>
<ul>
<li>Source transformation is a technique in circuit analysis that allows you to convert between a voltage source in series with a resistor and a current source in parallel with a resistor.</li>
<li>It is directly related to Thevenin and Norton theorems.</li>
</ul>
</div>
<p><a class="glightbox" href="../img/nodeEx7Thev.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx7Thev.svg" width="150"></a>  <a class="glightbox" href="../img/nodeEx7Nort.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx7Nort.svg" width="170"></a></p>
<p>The above two circuit can be tranformed from each other, given the following relationship. </p>
<div class="arithmatex">\[
V_{th} = I_N R_N\\
I_N = \frac{V_{th}}{R_{th}}\\
R_{th} = R_N
\]</div>
<p>where th stands for Thevenin, and N stands for Norton. </p>
<hr>
<p>Then, the circuits can be transformed as follows.
<figure id="_figure-21"><a class="glightbox" href="../img/nodeEx7b.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="With Voltage Sources" src="../img/nodeEx7b.svg" width="520"></a>
<figcaption>Figure 21: With Voltage Sources</figcaption></figure><figure id="_figure-22"><a class="glightbox" href="../img/nodeEx7a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="With Current Sources" src="../img/nodeEx7a.svg" width="700"></a>
where <figcaption>Figure 22: With Current Sources</figcaption></figure><span class="arithmatex">\(I_{S1}=\frac{V_{S1}}{R_1}\)</span> and <span class="arithmatex">\(I_{S2}=\frac{V_{S2}}{R_5}\)</span>.</p>
<p>Then, we can writ G-Matrix and I vector. </p>
<hr>
<h2 id="supernode">Supernode</h2>
<ul>
<li>Voltage sources between two non-reference nodes.</li>
<li>Treat the two nodes as a single <em>supernode</em>.</li>
<li>Apply KCL to the supernode.</li>
<li>Use the voltage source to relate the voltages of the two nodes.</li>
</ul>
<hr>
<h3 id="example-8-supernode">Example 8: Supernode</h3>
<div class="admonition example">
<p class="admonition-title">Example 8</p>
<p>Determine <span class="arithmatex">\(V_o\)</span></p>
<p><figure id="_figure-23"><a class="glightbox" href="../img/nodeEx8.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Current Source" src="../img/nodeEx8.svg" width="450"></a><figcaption>Figure 23: Current Source</figcaption></figure></p>
</div>
<hr>
<h4 id="solution-video-ex8">Solution video (Ex8)</h4>
<div class="admonition info">
<p class="admonition-title">Solution video</p>
<p>Coming soon...</p>
</div>
<hr>
<h4 id="step-1-ex8">Step 1 (Ex8)</h4>
<p><em>Select a reference node and label non-reference node voltages</em></p>
<p><figure id="_figure-24"><a class="glightbox" href="../img/nodeEx8a.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="Example 8" src="../img/nodeEx8a.svg" width="550"></a><figcaption>Figure 24: Example 8</figcaption></figure></p>
<p>The bottom node is grounded. <strong><span class="arithmatex">\(V_1\)</span> and <span class="arithmatex">\(V_2\)</span> are unknowns.</strong>  </p>
<p><span class="arithmatex">\(I_1, I_2, I_3, I_4\)</span> are labeled for Step 2.</p>
<hr>
<h4 id="step-2-ex8">Step 2 (Ex8)</h4>
<p><em>Label current directions and write KCL</em></p>
<div class="admonition note">
<p class="admonition-title">We use Equation 2 to write KCL</p>
<div class="arithmatex">\[
\sum I_{enter} - \sum I_{leave} = 0
\]</div>
</div>
<p>However, we cannot write regular KCL for <code>Node 1</code> or <code>Node 2</code>, because we cannot directly determine the current flow from <code>Node 1</code> to <code>Node 2</code>.</p>
<p>There is no resistors between <code>Node 1</code> to <code>Node 2</code>, so we cannot use Ohm's Law. </p>
<div class="admonition info">
<p class="admonition-title">Supernode</p>
<ul>
<li>If there is a voltage source between two non-reference nodes, we treat the two nodes as a single <em>supernode</em>.</li>
<li>Apply KCL to the supernode.</li>
<li>Use the voltage source to relate the voltages of the two nodes.</li>
</ul>
</div>
<p><a class="glightbox" href="../img/nodeEx8b.svg" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/nodeEx8b.svg" width="550"></a></p>
<p>There are 5 branches connect to the <code>Supernode</code>. The currents are <span class="arithmatex">\(I_{S1},I_{S2},I_1,I_2,I_3\)</span>. We treate <code>Node 1</code> and <code>Node 2</code> as one <code>Supernode</code> to write KCL:</p>
<div class="arithmatex">\[
I_{S1}-I_{S2}-I_1-I_2-I_3=0
\]</div>
<p>However, this supernode has two node voltages <span class="arithmatex">\(V_1\)</span> and <span class="arithmatex">\(V_2\)</span>. When we use Ohm's Law, we will need to use <span class="arithmatex">\(V_1\)</span> or <span class="arithmatex">\(V_2\)</span> according to the branch connection.</p>
<p>For example, <span class="arithmatex">\(I_1 = \frac{V_1}{R_1}\)</span>, which used <span class="arithmatex">\(V_1\)</span>, because <span class="arithmatex">\(R_1\)</span> branch connects to <code>Node 1</code></p>
<p><span class="arithmatex">\(I_2 = \frac{V_2}{R_2}\)</span>, which used <span class="arithmatex">\(V_2\)</span>, because <span class="arithmatex">\(R_2\)</span> branch connects to <code>Node 2</code>. </p>
<p>Therefore, we will have:</p>
<div class="arithmatex">\[
I_{S1}-I_{S2} - \frac{V_1}{R_1} - \frac{V_2}{R_2} - \frac{V_2-V_3}{R_3}= 0
\]</div>
<p>Furthermore, because <span class="arithmatex">\(V_{S1}\)</span> directly connects <code>Node 1</code> and <code>Node 2</code>, we can write a constraint equation for <span class="arithmatex">\(V_1\)</span> and <span class="arithmatex">\(V_2\)</span>.</p>
<div class="arithmatex">\[
V_2 - V_1 = V_{S1}
\]</div>
<p>For the <code>supernode</code>, therefore, we have two equations. </p>
<details class="question">
<summary>Why not V1 - V2 = 12?</summary>
<ul>
<li>The reason is because <span class="arithmatex">\(V_2\)</span> is at the positive terminal of <span class="arithmatex">\(V_{S1}\)</span>. </li>
<li>The positive terminal voltage minus the Negative terminal voltage is the source voltage. </li>
</ul>
</details>
<p>For <code>Node 3</code>, KCL: <span class="arithmatex">\(I_{S2}+I_3-I_4=0\)</span>, use Ohm's Law:</p>
<div class="arithmatex">\[
I_{S2} + \frac{V_2-V_3}{R_3} -  \frac{V_3}{R_4} = 0
\]</div>
<hr>
<h4 id="step-3-ex8">Step 3 (Ex8)</h4>
<p><em>Solve equations</em></p>
<p>Plug in numbers to the above two equations:</p>
<div class="arithmatex">\[
8 -2 - \frac{V_1}{3} - \frac{V_2}{6} - \frac{V_2-V_3}{2}= 0\\
V_2 - V_1 = 12 \\
2 + \frac{V_2-V_3}{2} -  \frac{V_3}{1} = 0
\]</div>
<p>We can solve <span class="arithmatex">\(V_1 = 0.8V, V_2= 12.8V\)</span> and <span class="arithmatex">\(V_3 = 5.6V\)</span>.</p>
<p>From the circuit, we can see that <span class="arithmatex">\(V_o=V_3=5.6V\)</span></p>
<details class="info">
<summary>Python code to solve the 3 equations</summary>
<div class="highlight"><pre><span></span><code>    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

    <span class="c1"># Coefficients of the equations</span>
    <span class="c1"># Equation 1: 8 - 2 - (V1/3) - (V2/6) - ((V2 - V3)/2) = 0</span>
    <span class="c1"># Equation 2: V2 - V1 = 12</span>
    <span class="c1"># Equation 3: 2 + ((V2 - V3)/2) - (V3/1) = 0</span>

    <span class="c1"># Represent the equations in matrix form: A * [V1, V2, V3] = B</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span>  <span class="c1"># Coefficients from Equation 1</span>
        <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>               <span class="c1"># Coefficients from Equation 2</span>
        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>        <span class="c1"># Coefficients from Equation 3</span>
    <span class="p">])</span>

    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span>
        <span class="o">-</span><span class="mi">6</span><span class="p">,</span>  <span class="c1"># Constant from Equation 1 (8 - 2 = 6, moved to the right-hand side)</span>
        <span class="mi">12</span><span class="p">,</span>  <span class="c1"># Constant from Equation 2</span>
        <span class="o">-</span><span class="mi">2</span>   <span class="c1"># Constant from Equation 3 (2 moved to the right-hand side)</span>
    <span class="p">])</span>

    <span class="c1"># Solve the system of equations</span>
    <span class="n">solutions</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>

    <span class="c1"># Extract the solutions</span>
    <span class="n">V1</span><span class="p">,</span> <span class="n">V2</span><span class="p">,</span> <span class="n">V3</span> <span class="o">=</span> <span class="n">solutions</span>

    <span class="c1"># Print the results</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"V1 = </span><span class="si">{</span><span class="n">V1</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> V"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"V2 = </span><span class="si">{</span><span class="n">V2</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> V"</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"V3 = </span><span class="si">{</span><span class="n">V3</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2"> V"</span><span class="p">)</span>
</code></pre></div>
</details></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.tabs.link", "navigation.instant.progress", "navigation.tabs", "navigation.expand", "content.code.copy"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
        <script src="https://unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>